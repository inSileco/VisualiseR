<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre5 Édition d’un graphique | Visualiser vos données avec R</title>
  <meta name="description" content="Utiliser R pour faire des graphiques." />
  <meta name="generator" content="bookdown 0.18.3 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre5 Édition d’un graphique | Visualiser vos données avec R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://insileco.github.io/VisualiseR/" />
  
  <meta property="og:description" content="Utiliser R pour faire des graphiques." />
  <meta name="github-repo" content="inSileco/VisualiseR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre5 Édition d’un graphique | Visualiser vos données avec R" />
  
  <meta name="twitter:description" content="Utiliser R pour faire des graphiques." />
  

<meta name="author" content="Nicolas Casajus, Kevin Cazelles" />


<meta name="date" content="2020-05-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="créer-et-éditer-des-graphiques-avec-r.html"/>
<link rel="next" href="graphiques-classiques.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li> <a href="./">VisualiseR</a> </li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Bienvenue</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#quest-ce-que-ce-livre"><i class="fa fa-check"></i>Qu’est-ce que ce livre ?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#future-et-collaboration"><i class="fa fa-check"></i>Future et Collaboration</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#avant-propos"><i class="fa fa-check"></i>Avant propos</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#remerciements"><i class="fa fa-check"></i>Remerciements</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="science-et-graphiques.html"><a href="science-et-graphiques.html"><i class="fa fa-check"></i><b>2</b> Science et graphiques</a><ul>
<li class="chapter" data-level="2.1" data-path="science-et-graphiques.html"><a href="science-et-graphiques.html#une-breve-histoire-du-graphique"><i class="fa fa-check"></i><b>2.1</b> Une brève histoire du graphique</a><ul>
<li class="chapter" data-level="2.1.1" data-path="science-et-graphiques.html"><a href="science-et-graphiques.html#premiers-balbutiements"><i class="fa fa-check"></i><b>2.1.1</b> Premiers balbutiements</a></li>
<li class="chapter" data-level="2.1.2" data-path="science-et-graphiques.html"><a href="science-et-graphiques.html#lage-dor"><i class="fa fa-check"></i><b>2.1.2</b> L’âge d’or</a></li>
<li class="chapter" data-level="2.1.3" data-path="science-et-graphiques.html"><a href="science-et-graphiques.html#lage-sombre"><i class="fa fa-check"></i><b>2.1.3</b> L’âge sombre</a></li>
<li class="chapter" data-level="2.1.4" data-path="science-et-graphiques.html"><a href="science-et-graphiques.html#renaissance"><i class="fa fa-check"></i><b>2.1.4</b> Renaissance</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="science-et-graphiques.html"><a href="science-et-graphiques.html#quest-ce-quun-graphique"><i class="fa fa-check"></i><b>2.2</b> Qu’est-ce qu’un graphique ?</a></li>
<li class="chapter" data-level="2.3" data-path="science-et-graphiques.html"><a href="science-et-graphiques.html#un-graphique-pour-quoi-faire"><i class="fa fa-check"></i><b>2.3</b> Un graphique pour quoi faire ?</a></li>
<li class="chapter" data-level="2.4" data-path="science-et-graphiques.html"><a href="science-et-graphiques.html#du-bon-usage-des-graphiques"><i class="fa fa-check"></i><b>2.4</b> Du bon usage des graphiques</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="à-propos-de-r.html"><a href="à-propos-de-r.html"><i class="fa fa-check"></i><b>3</b> À propos de R</a><ul>
<li class="chapter" data-level="3.1" data-path="à-propos-de-r.html"><a href="à-propos-de-r.html#de-s-à-r---50-ans-dhistoire"><i class="fa fa-check"></i><b>3.1</b> De S à R - 50 ans d’histoire</a><ul>
<li class="chapter" data-level="3.1.1" data-path="à-propos-de-r.html"><a href="à-propos-de-r.html#le-langage-s"><i class="fa fa-check"></i><b>3.1.1</b> Le langage S</a></li>
<li class="chapter" data-level="3.1.2" data-path="à-propos-de-r.html"><a href="à-propos-de-r.html#le-new-s"><i class="fa fa-check"></i><b>3.1.2</b> Le « new S »</a></li>
<li class="chapter" data-level="3.1.3" data-path="à-propos-de-r.html"><a href="à-propos-de-r.html#de-s-à-r"><i class="fa fa-check"></i><b>3.1.3</b> De S à R</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="à-propos-de-r.html"><a href="à-propos-de-r.html#r-aujourdhui"><i class="fa fa-check"></i><b>3.2</b> R aujourd’hui</a><ul>
<li class="chapter" data-level="3.2.1" data-path="à-propos-de-r.html"><a href="à-propos-de-r.html#mais-r-cest-quoi-au-juste"><i class="fa fa-check"></i><b>3.2.1</b> Mais R c’est quoi au juste?</a></li>
<li class="chapter" data-level="3.2.2" data-path="à-propos-de-r.html"><a href="à-propos-de-r.html#un-ensemble-dacteurs"><i class="fa fa-check"></i><b>3.2.2</b> Un ensemble d’acteurs</a></li>
<li class="chapter" data-level="3.2.3" data-path="à-propos-de-r.html"><a href="à-propos-de-r.html#une-documentation-abondante-et-facilement-accessible"><i class="fa fa-check"></i><b>3.2.3</b> Une documentation abondante et facilement accessible</a></li>
<li class="chapter" data-level="3.2.4" data-path="à-propos-de-r.html"><a href="à-propos-de-r.html#les-packages"><i class="fa fa-check"></i><b>3.2.4</b> Les packages</a></li>
<li class="chapter" data-level="3.2.5" data-path="à-propos-de-r.html"><a href="à-propos-de-r.html#les-interfaces-utilisateurs"><i class="fa fa-check"></i><b>3.2.5</b> Les interfaces utilisateurs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="créer-et-éditer-des-graphiques-avec-r.html"><a href="créer-et-éditer-des-graphiques-avec-r.html"><i class="fa fa-check"></i><b>4</b> Créer et Éditer des graphiques avec R</a><ul>
<li class="chapter" data-level="4.1" data-path="créer-et-éditer-des-graphiques-avec-r.html"><a href="créer-et-éditer-des-graphiques-avec-r.html#le-système-graphique-du-package-graphics"><i class="fa fa-check"></i><b>4.1</b> Le système graphique du package <em>graphics</em></a></li>
<li class="chapter" data-level="4.2" data-path="créer-et-éditer-des-graphiques-avec-r.html"><a href="créer-et-éditer-des-graphiques-avec-r.html#le-système-graphique-du-package-grid"><i class="fa fa-check"></i><b>4.2</b> Le système graphique du package <em>grid</em></a></li>
<li class="chapter" data-level="4.3" data-path="créer-et-éditer-des-graphiques-avec-r.html"><a href="créer-et-éditer-des-graphiques-avec-r.html#les-graphiques-interactives"><i class="fa fa-check"></i><b>4.3</b> Les graphiques interactives</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="édition-dun-graphique.html"><a href="édition-dun-graphique.html"><i class="fa fa-check"></i><b>5</b> Édition d’un graphique</a><ul>
<li class="chapter" data-level="5.1" data-path="édition-dun-graphique.html"><a href="édition-dun-graphique.html#graphique-vierge"><i class="fa fa-check"></i><b>5.1</b> Graphique vierge</a></li>
<li class="chapter" data-level="5.2" data-path="édition-dun-graphique.html"><a href="édition-dun-graphique.html#ajout-de-points"><i class="fa fa-check"></i><b>5.2</b> Ajout de points</a></li>
<li class="chapter" data-level="5.3" data-path="édition-dun-graphique.html"><a href="édition-dun-graphique.html#ajout-de-lignes"><i class="fa fa-check"></i><b>5.3</b> Ajout de lignes</a></li>
<li class="chapter" data-level="5.4" data-path="édition-dun-graphique.html"><a href="édition-dun-graphique.html#ajout-de-polygones"><i class="fa fa-check"></i><b>5.4</b> Ajout de polygones</a></li>
<li class="chapter" data-level="5.5" data-path="édition-dun-graphique.html"><a href="édition-dun-graphique.html#ajout-dune-flèche"><i class="fa fa-check"></i><b>5.5</b> Ajout d’une flèche</a></li>
<li class="chapter" data-level="5.6" data-path="édition-dun-graphique.html"><a href="édition-dun-graphique.html#ajout-dun-titre"><i class="fa fa-check"></i><b>5.6</b> Ajout d’un titre</a></li>
<li class="chapter" data-level="5.7" data-path="édition-dun-graphique.html"><a href="édition-dun-graphique.html#ajout-de-texte"><i class="fa fa-check"></i><b>5.7</b> Ajout de texte</a></li>
<li class="chapter" data-level="5.8" data-path="édition-dun-graphique.html"><a href="édition-dun-graphique.html#ajout-dune-légende"><i class="fa fa-check"></i><b>5.8</b> Ajout d’une légende</a></li>
<li class="chapter" data-level="5.9" data-path="édition-dun-graphique.html"><a href="édition-dun-graphique.html#ajout-dun-axe"><i class="fa fa-check"></i><b>5.9</b> Ajout d’un axe</a></li>
<li class="chapter" data-level="5.10" data-path="édition-dun-graphique.html"><a href="édition-dun-graphique.html#ajout-dune-image"><i class="fa fa-check"></i><b>5.10</b> Ajout d’une image</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="graphiques-classiques.html"><a href="graphiques-classiques.html"><i class="fa fa-check"></i><b>6</b> Graphiques classiques</a><ul>
<li class="chapter" data-level="6.1" data-path="graphiques-classiques.html"><a href="graphiques-classiques.html#diagramme-de-dispersion"><i class="fa fa-check"></i><b>6.1</b> Diagramme de dispersion</a></li>
<li class="chapter" data-level="6.2" data-path="graphiques-classiques.html"><a href="graphiques-classiques.html#boîte-à-moustaches"><i class="fa fa-check"></i><b>6.2</b> Boîte à moustaches</a></li>
<li class="chapter" data-level="6.3" data-path="graphiques-classiques.html"><a href="graphiques-classiques.html#diagramme-en-bâtons"><i class="fa fa-check"></i><b>6.3</b> Diagramme en bâtons</a></li>
<li class="chapter" data-level="6.4" data-path="graphiques-classiques.html"><a href="graphiques-classiques.html#histogramme"><i class="fa fa-check"></i><b>6.4</b> Histogramme</a></li>
<li class="chapter" data-level="6.5" data-path="graphiques-classiques.html"><a href="graphiques-classiques.html#diagramme-sectoriel"><i class="fa fa-check"></i><b>6.5</b> Diagramme sectoriel</a></li>
<li class="chapter" data-level="6.6" data-path="graphiques-classiques.html"><a href="graphiques-classiques.html#fonctions-mathématiques"><i class="fa fa-check"></i><b>6.6</b> Fonctions mathématiques</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="paramètres-graphiques.html"><a href="paramètres-graphiques.html"><i class="fa fa-check"></i><b>7</b> Paramètres graphiques</a><ul>
<li class="chapter" data-level="7.1" data-path="paramètres-graphiques.html"><a href="paramètres-graphiques.html#la-fonction-par"><i class="fa fa-check"></i><b>7.1</b> La fonction <code>par()</code></a></li>
<li class="chapter" data-level="7.2" data-path="paramètres-graphiques.html"><a href="paramètres-graphiques.html#fonte-de-caractères"><i class="fa fa-check"></i><b>7.2</b> Fonte de caractères</a></li>
<li class="chapter" data-level="7.3" data-path="paramètres-graphiques.html"><a href="paramètres-graphiques.html#symboles-ponctuels"><i class="fa fa-check"></i><b>7.3</b> Symboles ponctuels</a></li>
<li class="chapter" data-level="7.4" data-path="paramètres-graphiques.html"><a href="paramètres-graphiques.html#types-de-lignes"><i class="fa fa-check"></i><b>7.4</b> Types de lignes</a></li>
<li class="chapter" data-level="7.5" data-path="paramètres-graphiques.html"><a href="paramètres-graphiques.html#modification-des-axes"><i class="fa fa-check"></i><b>7.5</b> Modification des axes</a></li>
<li class="chapter" data-level="7.6" data-path="paramètres-graphiques.html"><a href="paramètres-graphiques.html#ajustement-des-marges"><i class="fa fa-check"></i><b>7.6</b> Ajustement des marges</a></li>
<li class="chapter" data-level="7.7" data-path="paramètres-graphiques.html"><a href="paramètres-graphiques.html#les-couleurs-sous-r"><i class="fa fa-check"></i><b>7.7</b> Les couleurs sous R</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="périphériques-et-exportation.html"><a href="périphériques-et-exportation.html"><i class="fa fa-check"></i><b>8</b> Périphériques et exportation</a><ul>
<li class="chapter" data-level="8.1" data-path="périphériques-et-exportation.html"><a href="périphériques-et-exportation.html#types-de-périphériques"><i class="fa fa-check"></i><b>8.1</b> Types de périphériques</a></li>
<li class="chapter" data-level="8.2" data-path="périphériques-et-exportation.html"><a href="périphériques-et-exportation.html#les-fonctions-dev.x"><i class="fa fa-check"></i><b>8.2</b> Les fonctions <code>dev.x()</code></a></li>
<li class="chapter" data-level="8.3" data-path="périphériques-et-exportation.html"><a href="périphériques-et-exportation.html#exportation-dun-graphe"><i class="fa fa-check"></i><b>8.3</b> Exportation d’un graphe</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="partitionnement-et-composition.html"><a href="partitionnement-et-composition.html"><i class="fa fa-check"></i><b>9</b> Partitionnement et composition</a><ul>
<li class="chapter" data-level="9.1" data-path="partitionnement-et-composition.html"><a href="partitionnement-et-composition.html#partitionnement-basique"><i class="fa fa-check"></i><b>9.1</b> Partitionnement basique</a></li>
<li class="chapter" data-level="9.2" data-path="partitionnement-et-composition.html"><a href="partitionnement-et-composition.html#partitionnement-avancé"><i class="fa fa-check"></i><b>9.2</b> Partitionnement avancé</a></li>
<li class="chapter" data-level="9.3" data-path="partitionnement-et-composition.html"><a href="partitionnement-et-composition.html#graphe-dans-un-graphe"><i class="fa fa-check"></i><b>9.3</b> Graphe dans un graphe</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="exercices.html"><a href="exercices.html"><i class="fa fa-check"></i><b>10</b> Exercices</a><ul>
<li class="chapter" data-level="10.1" data-path="exercices.html"><a href="exercices.html#partitionnement-avancé-1"><i class="fa fa-check"></i><b>10.1</b> Partitionnement avancé</a></li>
<li class="chapter" data-level="10.2" data-path="exercices.html"><a href="exercices.html#superposition-de-graphes"><i class="fa fa-check"></i><b>10.2</b> Superposition de graphes</a></li>
<li class="chapter" data-level="10.3" data-path="exercices.html"><a href="exercices.html#inclusion-en-médaillon"><i class="fa fa-check"></i><b>10.3</b> Inclusion en médaillon</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="solutions-des-exercices.html"><a href="solutions-des-exercices.html"><i class="fa fa-check"></i><b>11</b> Solutions des exercices</a><ul>
<li class="chapter" data-level="11.1" data-path="solutions-des-exercices.html"><a href="solutions-des-exercices.html#partitionnement-avancé-2"><i class="fa fa-check"></i><b>11.1</b> Partitionnement avancé</a></li>
<li class="chapter" data-level="11.2" data-path="solutions-des-exercices.html"><a href="solutions-des-exercices.html#superposition-de-graphes-1"><i class="fa fa-check"></i><b>11.2</b> Superposition de graphes</a></li>
<li class="chapter" data-level="11.3" data-path="solutions-des-exercices.html"><a href="solutions-des-exercices.html#inclusion-en-médaillon-1"><i class="fa fa-check"></i><b>11.3</b> Inclusion en médaillon</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="introduction-au-package-grid.html"><a href="introduction-au-package-grid.html"><i class="fa fa-check"></i><b>12</b> Introduction au package <code>grid</code></a><ul>
<li class="chapter" data-level="12.1" data-path="introduction-au-package-grid.html"><a href="introduction-au-package-grid.html#principes"><i class="fa fa-check"></i><b>12.1</b> Principes</a></li>
<li class="chapter" data-level="12.2" data-path="introduction-au-package-grid.html"><a href="introduction-au-package-grid.html#examples"><i class="fa fa-check"></i><b>12.2</b> Examples</a></li>
<li class="chapter" data-level="12.3" data-path="introduction-au-package-grid.html"><a href="introduction-au-package-grid.html#application"><i class="fa fa-check"></i><b>12.3</b> Application</a><ul>
<li class="chapter" data-level="12.3.1" data-path="introduction-au-package-grid.html"><a href="introduction-au-package-grid.html#lattice"><i class="fa fa-check"></i><b>12.3.1</b> Lattice</a></li>
<li class="chapter" data-level="12.3.2" data-path="introduction-au-package-grid.html"><a href="introduction-au-package-grid.html#ggplot2"><i class="fa fa-check"></i><b>12.3.2</b> ggplot2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="introduction-au-package-ggplo2.html"><a href="introduction-au-package-ggplo2.html"><i class="fa fa-check"></i><b>13</b> Introduction au package <code>ggplo2</code></a></li>
<li class="chapter" data-level="14" data-path="ggplot2-in-action.html"><a href="ggplot2-in-action.html"><i class="fa fa-check"></i><b>14</b> ggplot2 in action</a><ul>
<li class="chapter" data-level="14.1" data-path="ggplot2-in-action.html"><a href="ggplot2-in-action.html#principes-1"><i class="fa fa-check"></i><b>14.1</b> Principes</a></li>
<li class="chapter" data-level="14.2" data-path="ggplot2-in-action.html"><a href="ggplot2-in-action.html#reprendre-ce-qui-a-été-fait-dans-la-partie-1"><i class="fa fa-check"></i><b>14.2</b> Reprendre ce qui a été fait dans la partie 1</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="les-extensions-de-ggplot2.html"><a href="les-extensions-de-ggplot2.html"><i class="fa fa-check"></i><b>15</b> Les extensions de ggplot2</a></li>
<li class="chapter" data-level="16" data-path="graphiques-interactives.html"><a href="graphiques-interactives.html"><i class="fa fa-check"></i><b>16</b> Graphiques interactives</a></li>
<li class="chapter" data-level="" data-path="annexe-1-courte-introduction-à-r.html"><a href="annexe-1-courte-introduction-à-r.html"><i class="fa fa-check"></i>Annexe 1 - courte introduction à R</a><ul>
<li class="chapter" data-level="16.0.1" data-path="annexe-1-courte-introduction-à-r.html"><a href="annexe-1-courte-introduction-à-r.html#les-grands-principes-de-r"><i class="fa fa-check"></i><b>16.0.1</b> Les grands principes de R</a></li>
<li class="chapter" data-level="" data-path="annexe-1-courte-introduction-à-r.html"><a href="annexe-1-courte-introduction-à-r.html#première-commande"><i class="fa fa-check"></i>Première commande</a></li>
<li class="chapter" data-level="" data-path="annexe-1-courte-introduction-à-r.html"><a href="annexe-1-courte-introduction-à-r.html#pour-r-tout-est-objet"><i class="fa fa-check"></i>Pour R, tout est objet</a><ul>
<li class="chapter" data-level="" data-path="annexe-1-courte-introduction-à-r.html"><a href="annexe-1-courte-introduction-à-r.html#conditions"><i class="fa fa-check"></i>Conditions</a></li>
<li class="chapter" data-level="" data-path="annexe-1-courte-introduction-à-r.html"><a href="annexe-1-courte-introduction-à-r.html#boucles"><i class="fa fa-check"></i>Boucles</a></li>
<li class="chapter" data-level="" data-path="annexe-1-courte-introduction-à-r.html"><a href="annexe-1-courte-introduction-à-r.html#les-fonctions"><i class="fa fa-check"></i>Les fonctions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="annexe-2-une-revue-des-packages-existant.html"><a href="annexe-2-une-revue-des-packages-existant.html"><i class="fa fa-check"></i>Annexe 2 - une revue des packages existant</a></li>
<li class="chapter" data-level="17" data-path="annexe-3-quel-package-pour-tel-graphique.html"><a href="annexe-3-quel-package-pour-tel-graphique.html"><i class="fa fa-check"></i><b>17</b> Annexe 3 - quel package pour tel graphique ?</a></li>
<li class="divider"></li>
<li><a href="https://github.com/inSileco/VisualiseR" target="blank">Publié avec bookdown <i class="fa fa-github" aria-hidden="true"></i> </a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Visualiser vos données avec R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="édition-dun-graphique" class="section level1">
<h1><span class="header-section-number">Chapitre5</span> Édition d’un graphique</h1>
<div id="graphique-vierge" class="section level2">
<h2><span class="header-section-number">5.1</span> Graphique vierge</h2>
<p>La philosophie des auteurs en termes de graphiques sous R est simple : ajouter les éléments un à un, en commençant par ouvrir une fenêtre graphique avec des dimensions (axes et marges) choisies, mais sans que rien ne s’affiche à l’écran. Regardons donc comment créer un graphe vide.
Lorsqu’on fait appel à la fonction <code>plot()</code>, les axes sont déterminés automatiquement par R en fonction de l’étendue des valeurs des données que l’on souhaite représenter. Nous allons regarder comment modifier l’étendue des axes à l’aide de deux arguments : <code>xlim</code> et <code>ylim</code>.
Créons tout d’abord deux variables continues.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">(x1 &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dt">x =</span> <span class="dv">0</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">size =</span> <span class="dv">20</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co">#&gt;  [1]  5  9  6  0  9  8  8  1  5 10 10  7  6  7  6  1  0  9  8  8</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">(x2 &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dt">x =</span> <span class="dv">10</span><span class="op">:</span><span class="dv">20</span>, <span class="dt">size =</span> <span class="dv">20</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt;  [1] 13 14 16 11 11 17 16 11 14 11 13 13 13 15 12 15 14 11 11 11</span></a></code></pre></div>
<p>Ces deux variables ne varient pas de la même manière. Nous allons faire deux graphes. Le premier utilisera les paramètres par défaut de R. Dans le second, nous allons fixer les axes de manière à ce qu’ils soient bornés entre 0 et 20.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw">plot</span>(x1, x2)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="kw">plot</span>(x1, x2, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>))</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-3-1.png" width="960" style="display: block; margin: auto;" /></p>
<p>Par défaut, la fonction <code>plot()</code> affiche une boîte autour de la région graphique. C’est l’argument <code>bty</code> qui défini cela. Par défaut, il prend la valeur <strong>“o”</strong>. Pour supprimer ce cadre, on peut lui attribuer la valeur <strong>“n”</strong>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">plot</span>(x1, x2, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">bty =</span> <span class="st">&quot;n&quot;</span>)</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-4-1.png" width=".55\linewidth" style="display: block; margin: auto;" /></p>
<p>Maintenant que nous avons fixé les axes, nous allons les supprimer. Ceci n’aura aucune incidence sur l’étendue du graphe. Pour ce faire, nous allons utiliser les arguments <code>xaxt</code> et <code>yaxt</code> qui contrôlent l’affichage des axes. L’argument <code>axes</code> permet quant à lui de supprimer à la fois les axes, mais aussi le cadre. Comparez ces graphes suivants</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="kw">plot</span>(x1, x2, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">xaxt =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">yaxt =</span> <span class="st">&quot;n&quot;</span>)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="kw">plot</span>(x1, x2, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">bty =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">xaxt =</span> <span class="st">&quot;n&quot;</span>)</a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="kw">plot</span>(x1, x2, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">bty =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">yaxt =</span> <span class="st">&quot;n&quot;</span>)</a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="kw">plot</span>(x1, x2, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">axes =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-5-1.png" width="1\linewidth" style="display: block; margin: auto;" /></p>
<p>Poursuivons notre destruction graphique, et supprimons le nom des axes avec les arguments <code>xlab</code> et <code>ylab</code>. Par défaut, le nom des axes correspond au nom des variables. L’astuce ici consiste à leur attribuer la valeur <code>&quot;&quot;</code>. Cependant, une alternative consisterait à utiliser l’argument <code>ann</code> qui va supprimer toute annotation dans le graphe (nom des axes, mais aussi titre et sous-titre).</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">plot</span>(x1, x2, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">axes =</span> <span class="ot">FALSE</span>, <span class="dt">ann =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-6-1.png" width=".5\linewidth" style="display: block; margin: auto;" /></p>
<p>Il ne nous reste plus qu’à supprimer les points avec l’argument <code>type</code>. Nous allons tout de même laisser le cadre afin de délimiter notre graphe.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">plot</span>(x1, x2, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">xaxt =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">yaxt =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">ann =</span> <span class="ot">FALSE</span>, <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>)</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-7-1.png" width=".5\linewidth" style="display: block; margin: auto;" /></p>
<p>Étant donné que nous fixons les bornes des axes, et que nous supprimons l’affichage des données, nous pourrions éviter de spécifier les données en x et en y, et simplement demander de (ne pas) représenter la valeur <strong>0</strong> (ou autre chose). Ainsi, l’écriture précédente pourrait se résumer à ceci (sans le cadre) :</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">plot</span>(<span class="dv">0</span>, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">axes =</span> <span class="ot">FALSE</span>, <span class="dt">ann =</span> <span class="ot">FALSE</span>, <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>)</a></code></pre></div>
<p>Une particularité des programmeurs, c’est qu’il sont fainéants et s’ils peuvent économiser des lignes de code, alors ils le feront. Ainsi, nous allons créer une fonction qui implémentera un graphe vierge.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">plot0 &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">y =</span> <span class="dv">0</span>, <span class="dt">x =</span> y, <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">axes =</span> <span class="ot">FALSE</span>, <span class="dt">ann =</span> <span class="ot">FALSE</span>, ...){</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="kw">plot</span>(x, y, <span class="dt">axes =</span> axes, <span class="dt">type =</span> type, <span class="dt">ann =</span> ann, ...)</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">}</a></code></pre></div>
<p>Par la suite, il suffira de faire appel à cette fonction pour ouvrir un nouveau périphérique graphique n’affichant rien, mais dont les dimensions auront été spécifiées.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw">plot0</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>))</a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="kw">box</span>(<span class="st">&quot;plot&quot;</span>)</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-10-1.png" width=".5\linewidth" style="display: block; margin: auto;" /></p>
<p>Remarque : la fonction <code>box</code> permet d’afficher un cadre autour de la région du plot (<code>&quot;plot&quot;</code>) ou de la figure (<code>&quot;figure&quot;</code>). Autre remarque : on pourrait utiliser cette fonction comme la fonction <code>plot()</code> et afficher, par ex. les données en indiquant <code>type = &quot;p&quot;</code>.</p>
</div>
<div id="ajout-de-points" class="section level2">
<h2><span class="header-section-number">5.2</span> Ajout de points</h2>
<p>Pour insérer des points sur un graphe, rien de plus simple : il suffit d’utiliser la fonction <code>points()</code>. Celle-ci partage un très grand nombre d’arguments avec la fonction <code>plot()</code>.
Créons trois nouvelles variables.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">var1 &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">20</span>)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">var2 &lt;-<span class="st"> </span><span class="kw">sample</span>(var1, <span class="dv">20</span>, <span class="dt">replace =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">var3 &lt;-<span class="st"> </span><span class="kw">sample</span>(var1, <span class="dv">20</span>, <span class="dt">replace =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<p>Nous allons maintenant représenter sur le même graphe <strong>var2</strong> en fonction de <strong>var1</strong>, puis dans un second temps <strong>var3</strong> en fonction de <strong>var1</strong>. Nous alloir voir trois exemples pour distinguer les deux séries de valeurs.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="kw">plot</span>(var1, var2, <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">main =</span> <span class="st">&quot;Couleurs&quot;</span>)</a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="kw">points</span>(var1, var3, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="kw">plot</span>(var1, var2, <span class="dt">pch =</span> <span class="dv">17</span>, <span class="dt">main =</span> <span class="st">&quot;Symboles&quot;</span>)</a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="kw">points</span>(var1, var3, <span class="dt">pch =</span> <span class="dv">15</span>)</a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="kw">plot</span>(var1, var2, <span class="dt">cex =</span> <span class="dv">1</span>, <span class="dt">main =</span> <span class="st">&quot;Tailles&quot;</span>)</a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="kw">points</span>(var1, var3, <span class="dt">cex =</span> <span class="dv">2</span>)</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-12-1.png" width=".9\linewidth" style="display: block; margin: auto;" /></p>
<p>Dans ces exemples, les trois variables présentaient la même gamme de valeurs (de 1 à 20). Si vous souhaitez superposer sur un même graphe des séries de points qui n’ont pas la même étendue de valeurs, il faudra convenablement définir les bornes des axes dans la fonction <code>plot()</code> avec les arguments <code>xlim</code> et <code>ylim</code> de manière à ce que toutes les séries de points s’affichent correctement.
Introduisons maintenant une commande intéressante sous R : la fonction <code>locator()</code>. Celle-ci permet de récupérer les coordonnées d’un (ou de plusieurs) clic(s) sur un graphique. Voici comment l’utiliser pour deux clics :</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">locator</span>(<span class="dt">n =</span> <span class="dv">2</span>)</a></code></pre></div>
<p>Cette fonction permet également de rajouter simultanément des points sur le graphe au fur et à mesure des clics.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw">locator</span>(<span class="dt">n =</span> <span class="dv">3</span>, <span class="dt">type =</span> <span class="st">&quot;p&quot;</span>)</a></code></pre></div>
<p>Nous aurions également pu écrire :</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">points</span>(<span class="kw">locator</span>(<span class="dt">n =</span> <span class="dv">3</span>))</a></code></pre></div>
<p>Remarque : la sélection peut être interrompue par un clic droit. La valeur par défaut de l’argument <code>n</code> est de 512 (clics).</p>
</div>
<div id="ajout-de-lignes" class="section level2">
<h2><span class="header-section-number">5.3</span> Ajout de lignes</h2>
<p>Sous R, plusieurs fonctions permettent de tracer une ligne. Tout dépend de l’information de départ. Si on dispose des coordonnées des deux points extrêmes, nous pouvons utiliser à nouveau la fonction <code>points()</code>. La fonction <code>lines()</code> s’écrira de la même manière.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="kw">plot</span>(var1, var2, <span class="dt">pch =</span> <span class="dv">15</span>, <span class="dt">main =</span> <span class="st">&quot;Fonction points()&quot;</span>)</a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="kw">points</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">20</span>), <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">20</span>), <span class="dt">type =</span> <span class="st">&quot;l&quot;</span>)</a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="kw">plot</span>(var1, var2, <span class="dt">pch =</span> <span class="dv">15</span>, <span class="dt">main =</span> <span class="st">&quot;Fonction lines()&quot;</span>)</a>
<a class="sourceLine" id="cb16-5" data-line-number="5"><span class="kw">lines</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">20</span>), <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">20</span>))</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-16-1.png" width=".8\linewidth" style="display: block; margin: auto;" /></p>
<p>La fonction <code>segments()</code> s’utilise à peu de choses prêt de la même manière.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="kw">plot</span>(var1, var2, <span class="dt">pch =</span> <span class="dv">15</span>)</a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="kw">segments</span>(<span class="dt">x0 =</span> <span class="dv">1</span>, <span class="dt">y0 =</span> <span class="dv">1</span>, <span class="dt">x1 =</span> <span class="dv">20</span>, <span class="dt">y1 =</span> <span class="dv">20</span>)</a>
<a class="sourceLine" id="cb17-4" data-line-number="4"><span class="kw">plot</span>(var1, var2, <span class="dt">pch =</span> <span class="dv">15</span>)</a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="kw">segments</span>(var1[<span class="dv">1</span>], var2[<span class="dv">1</span>], var1[<span class="dv">2</span>], var2[<span class="dv">2</span>])</a>
<a class="sourceLine" id="cb17-6" data-line-number="6"><span class="kw">segments</span>(var1[<span class="dv">1</span>], var2[<span class="dv">1</span>], var1[<span class="dv">20</span>], var2[<span class="dv">20</span>])</a>
<a class="sourceLine" id="cb17-7" data-line-number="7"><span class="kw">segments</span>(var1[<span class="dv">20</span>], var2[<span class="dv">20</span>], var1[<span class="dv">2</span>], var2[<span class="dv">2</span>])</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-17-1.png" width=".7\linewidth" style="display: block; margin: auto;" /></p>
<p>Parlons maintenant de la fonction <code>abline()</code>. Celle-ci offre plusieurs possibilités : elle permet entre autres de tracer des lignes horizontales et verticales ainsi que des droites de régression. Mais, contrairement aux trois fonctions précédentes, qui étaient bornées aux coordonnées fournies, les droites tracées avec cette fonction s’étendront d’un bord à l’autre de la région graphique.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw">plot</span>(var1, var2, <span class="dt">pch =</span> <span class="dv">15</span>)</a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="kw">abline</span>(<span class="dt">h =</span> <span class="dv">10</span>, <span class="dt">v =</span> <span class="dv">10</span>, <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="kw">abline</span>(<span class="dt">a =</span> <span class="dv">20</span>, <span class="dt">b =</span> <span class="dv">-1</span>, <span class="dt">col =</span> <span class="st">&quot;green&quot;</span>, <span class="dt">lwd =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb18-4" data-line-number="4"><span class="kw">abline</span>(<span class="dt">reg =</span> <span class="kw">lm</span>(var2 <span class="op">~</span><span class="st"> </span>var1), <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">lwd =</span> <span class="dv">2</span>)</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-18-1.png" width=".35\linewidth" style="display: block; margin: auto;" /></p>
<p>Finalement, mentionnons que la fonction <code>locator()</code> pourra être utilisée pour tracer des lignes de manière interactive.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw">locator</span>(<span class="dt">n =</span> <span class="dv">2</span>, <span class="dt">type =</span> <span class="st">&quot;l&quot;</span>, <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">lty =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="kw">lines</span>(<span class="kw">locator</span>(<span class="dv">4</span>), <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</a></code></pre></div>
</div>
<div id="ajout-de-polygones" class="section level2">
<h2><span class="header-section-number">5.4</span> Ajout de polygones</h2>
<p>Insérer une forme polygonale sur un graphe se fera à l’aide de la fonction <code>polygon()</code>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw">plot</span>(var1, var2, <span class="dt">pch =</span> <span class="dv">15</span>)</a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="kw">polygon</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">15</span>), <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">15</span>, <span class="dv">10</span>))</a>
<a class="sourceLine" id="cb20-3" data-line-number="3"><span class="kw">polygon</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">15</span>), <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">15</span>, <span class="dv">15</span>), <span class="dt">density =</span> <span class="dv">20</span>, <span class="dt">angle =</span> <span class="dv">45</span>)</a>
<a class="sourceLine" id="cb20-4" data-line-number="4"><span class="kw">polygon</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>), <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">10</span>), <span class="dt">density =</span> <span class="dv">20</span>, <span class="dt">angle =</span> <span class="dv">135</span>)</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-20-1.png" width=".5\linewidth" style="display: block; margin: auto;" /></p>
<p>Nous retrouvons ici des arguments vu précédemment dans d’autres fonctions. Voyons maintenant un exemple en couleurs. Nous allons générer trois variables, dont deux correspondant à deux distributions normales.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">seqX &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="op">-</span><span class="dv">20</span>, <span class="dv">20</span>, <span class="fl">0.01</span>)</a>
<a class="sourceLine" id="cb21-2" data-line-number="2">GaussA &lt;-<span class="st"> </span><span class="kw">dnorm</span>(seqX, <span class="dt">mean =</span> <span class="dv">-2</span>, <span class="dt">sd =</span> <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb21-3" data-line-number="3">GaussB &lt;-<span class="st"> </span><span class="kw">dnorm</span>(seqX, <span class="dt">mean =</span> <span class="dv">4</span>, <span class="dt">sd =</span> <span class="dv">4</span>)</a></code></pre></div>
<p>Traçons ces distributions avec la fonction <code>polygon()</code>.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw">plot</span>(<span class="kw">range</span>(seqX), <span class="kw">range</span>(GaussA), <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>)</a>
<a class="sourceLine" id="cb22-2" data-line-number="2"><span class="kw">polygon</span>(<span class="dt">x =</span> seqX, <span class="dt">y =</span> GaussA, <span class="dt">border =</span> <span class="dv">0</span>, <span class="dt">col =</span> <span class="st">&quot;#FF000088&quot;</span>)</a>
<a class="sourceLine" id="cb22-3" data-line-number="3"><span class="kw">polygon</span>(<span class="dt">x =</span> seqX, <span class="dt">y =</span> GaussB, <span class="dt">border =</span> <span class="dv">0</span>, <span class="dt">col =</span> <span class="st">&quot;#0000FF88&quot;</span>)</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-22-1.png" width=".45\linewidth" style="display: block; margin: auto;" /></p>
<p>Ici, une remarque s’impose : nous venons d’attribuer deux couleurs dans un format un peu spécial : il s’agit du format hexadécimal. Celui-ci comprend, dans sa forme minimale, six caractères précédés du symbole <em>dièse</em> : les deux premiers symboles reflètent la quantité de rouge, les deux suivants celle de vert, et les deux derniers la quantité de bleu. À ceci, on peut rajouter (comme nous l’avons fait) deux autres caractères représentant le degré de transparence. Nous reviendrons sur ce point dans le chapitre suivant.
Intéressons-nous maintenant à la fonction <code>rect()</code> qui permet de tracer un rectangle.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="kw">plot</span>(var1, var2, <span class="dt">pch =</span> <span class="dv">15</span>)</a>
<a class="sourceLine" id="cb23-2" data-line-number="2"><span class="kw">rect</span>(<span class="dt">xleft =</span> <span class="dv">5</span>, <span class="dt">ybottom =</span> <span class="dv">5</span>, <span class="dt">xright =</span> <span class="dv">15</span>, <span class="dt">ytop =</span> <span class="dv">15</span>, <span class="dt">col =</span> <span class="st">&quot;gray&quot;</span>)</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-23-1.png" width=".45\linewidth" style="display: block; margin: auto;" /></p>
<p>Remarque : la fonction <code>locator()</code> peut également être utilisée avec <code>polygon()</code>, mais pas avec la fonction <code>rect()</code>.
Mettons à profit ce que nous venons d’apprendre avec les fonctions <code>rect()</code> et <code>abline()</code> pour personnaliser la zone de plot.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="kw">plot</span>(<span class="dv">0</span>, <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">ann =</span> <span class="ot">FALSE</span>, <span class="dt">las =</span> <span class="dv">1</span>, <span class="dt">bty =</span> <span class="st">&quot;n&quot;</span>)</a>
<a class="sourceLine" id="cb24-2" data-line-number="2"><span class="kw">par</span>()<span class="op">$</span>usr</a>
<a class="sourceLine" id="cb24-3" data-line-number="3"><span class="co">#&gt; [1] -0.8 20.8 -0.8 20.8</span></a>
<a class="sourceLine" id="cb24-4" data-line-number="4"><span class="kw">rect</span>(<span class="dt">xleft =</span> <span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">1</span>], <span class="dt">ybottom =</span> <span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">3</span>], <span class="dt">ytop =</span> <span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">4</span>], <span class="dt">xright =</span> <span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">2</span>], <span class="dt">col =</span> <span class="st">&quot;lightgray&quot;</span>, <span class="dt">border =</span> <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb24-5" data-line-number="5"><span class="kw">abline</span>(<span class="dt">h =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">20</span>, <span class="dt">by =</span> <span class="dv">5</span>), <span class="dt">col =</span> <span class="st">&quot;white&quot;</span>)</a>
<a class="sourceLine" id="cb24-6" data-line-number="6"><span class="kw">abline</span>(<span class="dt">v =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">20</span>, <span class="dt">by =</span> <span class="dv">5</span>), <span class="dt">col =</span> <span class="st">&quot;white&quot;</span>)</a>
<a class="sourceLine" id="cb24-7" data-line-number="7"><span class="kw">abline</span>(<span class="dt">h =</span> <span class="kw">seq</span>(<span class="fl">2.5</span>, <span class="fl">17.5</span>, <span class="dt">by =</span> <span class="dv">5</span>), <span class="dt">col =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">lty =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb24-8" data-line-number="8"><span class="kw">abline</span>(<span class="dt">v =</span> <span class="kw">seq</span>(<span class="fl">2.5</span>, <span class="fl">17.5</span>, <span class="dt">by =</span> <span class="dv">5</span>), <span class="dt">col =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">lty =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb24-9" data-line-number="9"><span class="kw">rect</span>(<span class="dt">xleft =</span> <span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">1</span>], <span class="dt">ybottom =</span> <span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">3</span>], <span class="dt">ytop =</span> <span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">4</span>], <span class="dt">xright =</span> <span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">2</span>], <span class="dt">col =</span> <span class="dv">0</span>, <span class="dt">border =</span> <span class="st">&quot;white&quot;</span>)</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-24-1.png" width=".75\linewidth" style="display: block; margin: auto;" /></p>
<p>Ici, nous avons utilisé de nouveaux arguments. L’argument <code>lty</code> contrôle le type de ligne (<strong>1</strong> étant un trait plein, et <strong>3</strong> un trait en pointillés). L’argument <code>border = 0</code> indique que la couleur du contour du rectangle sera transparente. Enfin, l’argument <code>las = 1</code> spécifie que les valeurs portées sur les axes seront écrites horizontalement.
Quelques précisions maintenant sur la commande <code>par()\$usr</code>. Nous avons défini nous-même l’étendue des axes x et y (0, 20). Cependant, par défaut, R laisse un peu de marge avant et après chaque axe (4% pour être précis). Ainsi, cette commande nous permet de récupérer les dimensions exactes (après ajout de ces 4%) de la région du plot. En attribuant la valeur <strong>“i”</strong> aux paramètres graphiques <code>xaxs</code> et <code>yaxs</code>, nous aurions supprimé cet ajout de 4%. Pour preuve :</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="kw">plot</span>(<span class="dv">0</span>, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">xaxs =</span> <span class="st">&quot;i&quot;</span>, <span class="dt">yaxs =</span> <span class="st">&quot;i&quot;</span>)</a>
<a class="sourceLine" id="cb25-2" data-line-number="2"><span class="kw">par</span>()<span class="op">$</span>usr</a>
<a class="sourceLine" id="cb25-3" data-line-number="3"><span class="co">#&gt; [1]  0 20  0 20</span></a></code></pre></div>
</div>
<div id="ajout-dune-flèche" class="section level2">
<h2><span class="header-section-number">5.5</span> Ajout d’une flèche</h2>
<p>Bien que peu fréquent, nous pouvons aussi tracer des flèches. Ceci se fera avec la fonction <code>arrows()</code>. Nous pouvons spécifier si la flèche sera en début ou en fin de ligne (ou les deux) avec l’argument <code>code</code>. On peut aussi définir la longueur de la flèche et son angle par rapport au trait. Un dessin vaut mille mots, donc allons-y.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw">plot</span>(<span class="dv">0</span>, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">2</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">2</span>), <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">ann =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb26-2" data-line-number="2"><span class="kw">arrows</span>(<span class="dt">x0 =</span> <span class="dv">0</span>, <span class="dt">y0 =</span> <span class="dv">1</span>, <span class="dt">x1 =</span> <span class="dv">1</span>, <span class="dt">y1 =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb26-3" data-line-number="3"><span class="kw">arrows</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dt">length =</span> <span class="fl">0.25</span>, <span class="dt">angle =</span> <span class="dv">30</span>, <span class="dt">code =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb26-4" data-line-number="4"><span class="kw">arrows</span>(<span class="dv">1</span>, <span class="fl">0.5</span>, <span class="dv">1</span>, <span class="fl">1.5</span>, <span class="dt">length =</span> <span class="fl">0.10</span>, <span class="dt">angle =</span> <span class="dv">45</span>, <span class="dt">code =</span> <span class="dv">3</span>)</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-26-1.png" width=".5\linewidth" style="display: block; margin: auto;" /></p>
<p>Nous n’en dirons pas plus sur les flèches.</p>
</div>
<div id="ajout-dun-titre" class="section level2">
<h2><span class="header-section-number">5.6</span> Ajout d’un titre</h2>
<p>Précédemment, nous avons vu qu’il était possible de définir un titre directement dans les <em>High-level plotting functions</em>. Mais, il existe aussi la fonction <code>title()</code> en alternative. Voici les principaux arguments de cette fonction (qui sont aussi valables pour les fonctions <code>plot()</code> and co.).
{ll}</p>
<p><strong>Argument</strong> &amp; <strong>Signification</strong>:</p>
<ul>
<li><code>main</code> &amp; Titre principal</li>
<li><code>sub</code> &amp; Sous-titre</li>
<li><code>xlab</code> &amp; Nom de l’axe des x</li>
<li><code>ylab</code> &amp; Nom de l’axe des y</li>
<li><code>cex.main</code> &amp; Taille du titre</li>
<li><code>cex.sub</code> &amp; Taille du sous-titre</li>
</ul>
<p>Utilisons ces arguments.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="kw">par</span>(<span class="dt">mgp =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>))</a>
<a class="sourceLine" id="cb27-2" data-line-number="2"><span class="kw">plot</span>(var1, var2, <span class="dt">pch =</span> <span class="dv">15</span>, <span class="dt">ann =</span> <span class="ot">FALSE</span>, <span class="dt">las =</span> <span class="dv">1</span>, <span class="dt">bty =</span> <span class="st">&quot;n&quot;</span>)</a>
<a class="sourceLine" id="cb27-3" data-line-number="3"><span class="kw">title</span>(<span class="dt">main =</span> <span class="st">&quot;Titre principal&quot;</span>, <span class="dt">cex.main =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb27-4" data-line-number="4"><span class="kw">title</span>(<span class="dt">xlab =</span> <span class="st">&quot;Abscisses&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Ordonnées&quot;</span>, <span class="dt">col.lab =</span> <span class="st">&quot;blue&quot;</span>)</a>
<a class="sourceLine" id="cb27-5" data-line-number="5"><span class="kw">title</span>(<span class="dt">sub =</span> <span class="st">&quot;Sous-titre&quot;</span>, <span class="dt">font.sub =</span> <span class="dv">2</span>, <span class="dt">col.sub =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">cex.sub =</span> <span class="fl">1.25</span>)</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-27-1.png" width=".6\linewidth" style="display: block; margin: auto;" /></p>
<p>Nous verrons dans la section suivante qu’il est aussi possible d’ajouter des annotations dans les marges de la figure, et nous aurions pu utiliser à la place, la fonction <code>mtext()</code>.</p>
</div>
<div id="ajout-de-texte" class="section level2">
<h2><span class="header-section-number">5.7</span> Ajout de texte</h2>
<p>Intéressons-nous maintenant aux annotations textuelles. Nous distinguerons les expressions textuelles insérées dans la zone de plot de celles destinées à apparaître en dehors de cette zone, c.-à-d. dans les marges de la figure. En effet, les fonctions correspondantes ne sont pas les mêmes et ne s’écrivent pas de la même manière.</p>
<p>La fonction <code>text()</code> permet d’insérer du texte dans la région du plot. Il faudra lui fournir les coordonnées en x et en y, ainsi que l’expression textuelle à ajouter. Regardons cela au travers d’un exemple.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1">(nom &lt;-<span class="st"> </span>letters[<span class="dv">1</span> <span class="op">:</span><span class="st"> </span><span class="kw">length</span>(var1)])</a>
<a class="sourceLine" id="cb28-2" data-line-number="2"><span class="co">#&gt;  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot; &quot;r&quot; &quot;s&quot;</span></a>
<a class="sourceLine" id="cb28-3" data-line-number="3"><span class="co">#&gt; [20] &quot;t&quot;</span></a>
<a class="sourceLine" id="cb28-4" data-line-number="4"><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb28-5" data-line-number="5"><span class="kw">plot</span>(var1, var2, <span class="dt">pch =</span> <span class="dv">15</span>)</a>
<a class="sourceLine" id="cb28-6" data-line-number="6"><span class="kw">plot</span>(var1, var2, <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>)</a>
<a class="sourceLine" id="cb28-7" data-line-number="7"><span class="kw">text</span>(<span class="dt">x =</span> var1, <span class="dt">y =</span> var2, <span class="dt">labels =</span> nom, <span class="dt">font =</span> <span class="dv">2</span>)</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-28-1.png" width=".7\linewidth" style="display: block; margin: auto;" /></p>
<p>L’argument <code>font</code> contrôle la graisse du texte, c.-à-d. que le texte pourra être écrit normalement (<strong>1</strong>), en gras (<strong>2</strong>), en italique (<strong>3</strong>), etc. Ici, le texte se place exactement aux coordonnées fournies. Mais, on imagine facilement que si on superpose à la fois les points et les étiquettes, le graphique sera illisible. Heureusement, cette fonction présente l’argument <code>pos</code> qui contrôle le positionnement du texte par rapport aux coordonnées. Le tableau suivant fournit les valeurs possibles pour cet argument.</p>
<p><strong>Valeur de <code>pos</code></strong> &amp; <strong>Signification</strong>\
- <code>0</code> &amp; Aux coordonnées
- <code>1</code> &amp; En-dessous des coordonnées
- <code>2</code> &amp; À gauche des coordonnées
- <code>3</code> &amp; Au-dessus des coordonnées
- <code>4</code> &amp; À droite des coordonnées</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="kw">plot</span>(var1, var2, <span class="dt">pch =</span> <span class="dv">15</span>, <span class="dt">ann =</span> <span class="ot">FALSE</span>, <span class="dt">las =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb29-2" data-line-number="2"><span class="kw">text</span>(<span class="dt">x =</span> var1, <span class="dt">y =</span> var2, <span class="dt">labels =</span> nom, <span class="dt">pos =</span> <span class="dv">2</span>)</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-29-1.png" width=".6\linewidth" style="display: block; margin: auto;" /></p>
<p>Remarque : la fonction <code>locator()</code> pourra s’appliquer ici.
Pour rajouter du texte dans les marges, nous utiliserons la fonction <code>mtext()</code>. Cependant, cette fonction s’écrit différemment : l’argument <code>side</code> indique dans quelle marge doit être affiché le texte (<strong>1</strong> en bas, <strong>2</strong> à gauche, <strong>3</strong> en haut, <strong>4</strong> à droite). L’argument <code>line</code> permet quant à lui de positionner le texte par rapport aux limites de la région du plot. Enfin, l’argument <code>at</code> permet d’indiquer la coordonnée de placement sur l’axe en question.
Vu qu’on ne fournit pas de coordonnées dans cette fonction, la fonction <code>locator()</code> ne fonctionnera pas.</p>
<p>Regardons cela avec un exemple simple.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="kw">par</span>(<span class="dt">mgp =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="fl">.5</span>, <span class="dv">0</span>))</a>
<a class="sourceLine" id="cb30-2" data-line-number="2"><span class="kw">plot</span>(var1, var2, <span class="dt">pch =</span> <span class="dv">15</span>, <span class="dt">ann =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb30-3" data-line-number="3"><span class="kw">mtext</span>(<span class="dt">side =</span> <span class="dv">1</span>, <span class="dt">line =</span> <span class="dv">1</span>, <span class="dt">text =</span> <span class="st">&quot;line = 1&quot;</span>, <span class="dt">at =</span> <span class="fl">7.5</span>)</a>
<a class="sourceLine" id="cb30-4" data-line-number="4"><span class="kw">mtext</span>(<span class="dt">side =</span> <span class="dv">1</span>, <span class="dt">line =</span> <span class="dv">2</span>, <span class="dt">text =</span> <span class="st">&quot;line = 2&quot;</span>)</a>
<a class="sourceLine" id="cb30-5" data-line-number="5"><span class="kw">mtext</span>(<span class="dt">side =</span> <span class="dv">1</span>, <span class="dt">line =</span> <span class="dv">3</span>, <span class="dt">text =</span> <span class="st">&quot;line = 3&quot;</span>)</a>
<a class="sourceLine" id="cb30-6" data-line-number="6"><span class="kw">mtext</span>(<span class="dt">side =</span> <span class="dv">1</span>, <span class="dt">line =</span> <span class="dv">4</span>, <span class="dt">text =</span> <span class="st">&quot;line = 4&quot;</span>)</a>
<a class="sourceLine" id="cb30-7" data-line-number="7"><span class="kw">mtext</span>(<span class="dt">side =</span> <span class="dv">2</span>, <span class="dt">line =</span> <span class="dv">2</span>, <span class="dt">text =</span> <span class="st">&quot;line = 2&quot;</span>, <span class="dt">font =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb30-8" data-line-number="8"><span class="kw">mtext</span>(<span class="dt">side =</span> <span class="dv">4</span>, <span class="dt">line =</span> <span class="dv">-2</span>, <span class="dt">text =</span> <span class="st">&quot;line = -2&quot;</span>, <span class="dt">font =</span> <span class="dv">3</span>)</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-30-1.png" width=".6\linewidth" style="display: block; margin: auto;" /></p>
</div>
<div id="ajout-dune-légende" class="section level2">
<h2><span class="header-section-number">5.8</span> Ajout d’une légende</h2>
<p>Que serait un graphe sans légende ? La fonction <code>legend()</code> permet d’insérer une légende assez élaborée dans la région du plot et offre de nombreuses possibilités.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="kw">example</span>(legend)</a></code></pre></div>
<p>Tous les éléments de la légende sont modifiables, à l’exception de la police de caractères, ce qui peut être problématique si les autres éléments textuels du graphe (titre, nom des axes, etc.) n’utilisent pas la police par défaut. Nous verrons comment contourner cette difficulté plus loin.
Le positionnement de la légende peut s’effectuer de deux manières différentes :
- soit en indiquant les coordonnées x et y du coin supérieur gauche;
- soit en spécifiant un mot-clé prédéfini (<code>top</code>, <code>bottom</code>, <code>topleft</code>, <code>center</code>, etc.).
Le tableau ci-après présente les principaux arguments de cette fonction <code>legend()</code>.
{ll}</p>
<p><strong>Argument</strong> &amp; <strong>Signification</strong></p>
<ul>
<li><code>legend</code> &amp; Nom des items</li>
<li><code>bty</code> &amp; Type de boîte (défaut <strong>‘o’</strong>)</li>
<li><code>bg</code> &amp; Couleur du fond de la boîte</li>
<li><code>box.lwd</code> &amp; Épaisseur de la bordure de la boîte</li>
<li><code>box.col</code> &amp; Couleur de la bordure de la boîte</li>
<li><code>title</code> &amp; Titre de la légende</li>
<li><code>title.col</code> &amp; Couleur du titre</li>
<li><code>text.col</code> &amp; Couleurs du nom des items</li>
<li><code>text.font</code> &amp; Graisse du nom des items</li>
<li><code>col</code> &amp; Couleurs des items (lignes ou symboles)</li>
<li><code>cex</code> &amp; Taille des symboles</li>
<li><code>pch</code> &amp; Symbole des items</li>
<li><code>pt.cex</code> &amp; Taille des symboles</li>
<li><code>lty</code> &amp; Type de ligne (si les items sont des lignes)</li>
<li><code>lwd</code> &amp; Épaisseur des lignes (si les items sont des lignes)</li>
<li><code>ncol</code> &amp; Nombre de colonnes pour représenter les items</li>
<li><code>horiz</code> &amp; Items répartis en lignes ou en colonnes (défaut)</li>
<li><code>plot</code> &amp; <strong>TRUE</strong> ou <strong>FALSE</strong></li>
</ul>
<p>Cette fonction, si attribuée à un objet, retourne des informations intéressantes sur le positionnement et les dimensions de la légende. Regardons plutôt.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="kw">plot</span>(var1, var2, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">pch =</span> <span class="dv">15</span>)</a>
<a class="sourceLine" id="cb32-2" data-line-number="2">(leg &lt;-<span class="st"> </span><span class="kw">legend</span>(<span class="st">&quot;center&quot;</span>, <span class="dt">legend =</span> <span class="kw">c</span>(<span class="st">&quot;Item 1&quot;</span>, <span class="st">&quot;Item 2&quot;</span>), <span class="dt">pch =</span> <span class="dv">15</span>))</a>
<a class="sourceLine" id="cb32-3" data-line-number="3"><span class="co">#&gt; $rect</span></a>
<a class="sourceLine" id="cb32-4" data-line-number="4"><span class="co">#&gt; $rect$w</span></a>
<a class="sourceLine" id="cb32-5" data-line-number="5"><span class="co">#&gt; [1] 3.144531</span></a>
<a class="sourceLine" id="cb32-6" data-line-number="6"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb32-7" data-line-number="7"><span class="co">#&gt; $rect$h</span></a>
<a class="sourceLine" id="cb32-8" data-line-number="8"><span class="co">#&gt; [1] 4.101266</span></a>
<a class="sourceLine" id="cb32-9" data-line-number="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb32-10" data-line-number="10"><span class="co">#&gt; $rect$left</span></a>
<a class="sourceLine" id="cb32-11" data-line-number="11"><span class="co">#&gt; [1] 8.427734</span></a>
<a class="sourceLine" id="cb32-12" data-line-number="12"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb32-13" data-line-number="13"><span class="co">#&gt; $rect$top</span></a>
<a class="sourceLine" id="cb32-14" data-line-number="14"><span class="co">#&gt; [1] 12.05063</span></a>
<a class="sourceLine" id="cb32-15" data-line-number="15"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb32-16" data-line-number="16"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb32-17" data-line-number="17"><span class="co">#&gt; $text</span></a>
<a class="sourceLine" id="cb32-18" data-line-number="18"><span class="co">#&gt; $text$x</span></a>
<a class="sourceLine" id="cb32-19" data-line-number="19"><span class="co">#&gt; [1] 9.552734 9.552734</span></a>
<a class="sourceLine" id="cb32-20" data-line-number="20"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb32-21" data-line-number="21"><span class="co">#&gt; $text$y</span></a>
<a class="sourceLine" id="cb32-22" data-line-number="22"><span class="co">#&gt; [1] 10.683544  9.316456</span></a></code></pre></div>
<p>Les informations retournées correspondent à la boîte <code>\$rect</code> (largeur, hauteur, coordonnées du coin supérieur gauche) et au positionnement des différents noms des items (<code>\$text</code>). Regardons le comportement de quelques arguments de la fonction <code>legend()</code>.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="kw">plot</span>(<span class="dv">0</span>, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">ann =</span> <span class="ot">FALSE</span>, <span class="dt">las =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="kw">points</span>(var1, var2, <span class="dt">pch =</span> <span class="dv">15</span>, <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)</a>
<a class="sourceLine" id="cb33-3" data-line-number="3"><span class="kw">points</span>(var1, var3, <span class="dt">pch =</span> <span class="dv">15</span>, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</a>
<a class="sourceLine" id="cb33-4" data-line-number="4"><span class="kw">abline</span>(<span class="dt">reg =</span> <span class="kw">lm</span>(var2 <span class="op">~</span><span class="st"> </span>var1), <span class="dt">lwd =</span> <span class="dv">2</span>, <span class="dt">col =</span> <span class="st">&quot;darkblue&quot;</span>)</a>
<a class="sourceLine" id="cb33-5" data-line-number="5"><span class="kw">abline</span>(<span class="dt">reg =</span> <span class="kw">lm</span>(var3 <span class="op">~</span><span class="st"> </span>var1), <span class="dt">lwd =</span> <span class="dv">2</span>, <span class="dt">col =</span> <span class="st">&quot;orange&quot;</span>)</a>
<a class="sourceLine" id="cb33-6" data-line-number="6"><span class="kw">abline</span>(<span class="dt">a =</span> <span class="dv">0</span>, <span class="dt">b =</span> <span class="dv">1</span>, <span class="dt">lty =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb33-7" data-line-number="7"><span class="kw">legend</span>(<span class="st">&quot;top&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;Var2&quot;</span>, <span class="st">&quot;Var3&quot;</span>, <span class="st">&quot;y = x&quot;</span>, <span class="st">&quot;Var2 ~ Var1&quot;</span>, <span class="st">&quot;Var2 ~ Var1&quot;</span>), <span class="dt">bg =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;white&quot;</span>, <span class="st">&quot;darkblue&quot;</span>, <span class="st">&quot;orange&quot;</span>), <span class="dt">pch =</span> <span class="dv">15</span>, <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">pt.cex =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>), <span class="dt">text.col =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">lwd =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>), <span class="dt">lty =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">1</span>), <span class="dt">title =</span> <span class="st">&quot;LÉGENDE&quot;</span>, <span class="dt">cex =</span> <span class="fl">0.75</span>)</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-33-1.png" width=".6\linewidth" style="display: block; margin: auto;" /></p>
</div>
<div id="ajout-dun-axe" class="section level2">
<h2><span class="header-section-number">5.9</span> Ajout d’un axe</h2>
<p>Regardons comment ajouter des axes à un graphe. Dans un premier temps, nous allons faire un plot vide et créer nous-même les axes avec la fonction <code>axis()</code>. Cette fonction accepte plusieurs arguments détaillés dans le tableau suivant.</p>
<p><strong>Argument</strong> &amp; <strong>Signification</strong></p>
<ul>
<li><code>side</code> &amp; <strong>1</strong> (bas), <strong>2</strong> (gauche), <strong>3</strong> (haut), <strong>4</strong> (gauche)</li>
<li><code>at</code> &amp; Coordonnées où placer la graduation</li>
<li><code>labels</code> &amp; Étiquettes des graduations (même longueur que <code>at</code>)</li>
<li><code>pos</code> &amp; Coordonnée de position sur l’axe perpendiculaire</li>
<li><code>tick</code> &amp; <strong>TRUE</strong> ou <strong>FALSE</strong> (l’axe et la graduation ne sont pas tracés)</li>
<li><code>lty</code> &amp; Type de ligne de l’axe</li>
<li><code>lwd</code> &amp; Épaisseur de ligne de l’axe</li>
<li><code>lwd.ticks</code> &amp; Épaisseur de ligne de la graduation</li>
<li><code>col</code> &amp; Couleur de l’axe</li>
<li><code>col.ticks</code> &amp; Couleur de la graduation</li>
<li><code>col.axis</code> &amp; Couleur des étiquettes</li>
</ul>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="kw">plot0</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">2</span>, <span class="dv">2</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">2</span>, <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb34-2" data-line-number="2"><span class="kw">title</span>(<span class="dt">main =</span> <span class="st">&quot;Plot retravaillé&quot;</span>)</a>
<a class="sourceLine" id="cb34-3" data-line-number="3">grad &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="op">-</span><span class="dv">2</span>, <span class="dv">2</span>, <span class="dt">by =</span> <span class="fl">0.5</span>)</a>
<a class="sourceLine" id="cb34-4" data-line-number="4"><span class="kw">axis</span>(<span class="dt">side =</span> <span class="dv">1</span>, <span class="dt">at =</span> grad, <span class="dt">labels =</span> <span class="kw">format</span>(grad), <span class="dt">pos =</span> <span class="dv">-2</span>)</a>
<a class="sourceLine" id="cb34-5" data-line-number="5"><span class="kw">axis</span>(<span class="dt">side =</span> <span class="dv">2</span>, <span class="dt">at =</span> grad, <span class="dt">labels =</span> <span class="kw">format</span>(grad), <span class="dt">pos =</span> <span class="dv">-2</span>, <span class="dt">las =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb34-6" data-line-number="6"><span class="kw">axis</span>(<span class="dt">side =</span> <span class="dv">1</span>, <span class="dt">at =</span> <span class="kw">seq</span>(<span class="op">-</span><span class="fl">1.75</span>, <span class="fl">1.75</span>, <span class="dt">by =</span> <span class="fl">0.5</span>), <span class="dt">pos =</span> <span class="dv">-2</span>, <span class="dt">tck =</span> <span class="fl">-0.01</span>, <span class="dt">labels =</span> <span class="ot">FALSE</span>, <span class="dt">lwd =</span> <span class="dv">-2</span>, <span class="dt">lwd.ticks =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb34-7" data-line-number="7"><span class="kw">axis</span>(<span class="dt">side =</span> <span class="dv">2</span>, <span class="dt">at =</span> <span class="kw">seq</span>(<span class="op">-</span><span class="fl">1.75</span>, <span class="fl">1.75</span>, <span class="dt">by =</span> <span class="fl">0.5</span>), <span class="dt">pos =</span> <span class="dv">-2</span>, <span class="dt">tck =</span> <span class="fl">-0.01</span>, <span class="dt">labels =</span> <span class="ot">FALSE</span>, <span class="dt">lwd =</span> <span class="dv">-2</span>, <span class="dt">lwd.ticks =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb34-8" data-line-number="8"><span class="kw">mtext</span>(<span class="dt">side =</span> <span class="dv">1</span>, <span class="dt">line =</span> <span class="fl">1.5</span>, <span class="dt">text =</span> <span class="st">&quot;Axe des x&quot;</span>, <span class="dt">font =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb34-9" data-line-number="9"><span class="kw">mtext</span>(<span class="dt">side =</span> <span class="dv">2</span>, <span class="dt">line =</span> <span class="fl">2.5</span>, <span class="dt">text =</span> <span class="st">&quot;Axe des y&quot;</span>, <span class="dt">font =</span> <span class="dv">2</span>, <span class="dt">las =</span> <span class="dv">0</span>)</a></code></pre></div>
<p><img src="visualiseR_files/figure-html/unnamed-chunk-34-1.png" width=".55\linewidth" style="display: block; margin: auto;" /></p>
<p>Ici, nous avons défini une graduation secondaire dépourvue d’étiquette sur les axes avec une graduation plus fine. Nous avons également rajouté un nom aux axes avec la fonction <code>mtext()</code> puisque cette option n’est pas disponible dans la fonction <code>axis()</code>.</p>
</div>
<div id="ajout-dune-image" class="section level2">
<h2><span class="header-section-number">5.10</span> Ajout d’une image</h2>
<p>Pour terminer ce chapitre, nous allons nous intéresser à l’inclusion d’une image dans un graphe. En effet, il peut être fort intéressant de pouvoir mettre une image quelconque sur un graphique. Par ex., sur une carte, il pourra s’agir de symboles divers permettant de figurer certains éléments caractéristiques (e.g. parc de stationnement, hôtel, station météo, etc.) ou des repères (e.g. nord géographique, etc.). Il pourra également s’agir du logo d’une institution, et bien d’autres.
La fonction <code>rasterImage()</code> du package <code>graphics</code> permet d’ajouter à un graphe existant une image sous forme matricielle. Il peut s’agir d’une image sous format <strong>JPEG</strong>, <strong>PNG</strong>, <strong>GIF</strong>, etc. Dans la suite, nous n’importerons que des images au format <strong>PNG</strong>. Pour ce faire, nous avons besoin de charger un package complémentaire, spécialement dédié à cette tâche : le package <code>png</code>.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="co">## install.packages(&quot;png&quot;)</span></a>
<a class="sourceLine" id="cb35-2" data-line-number="2"><span class="kw">library</span>(png)</a></code></pre></div>
<p>Nous avons développé une fonction, que nous avons appelée <code>plotimage()</code>, basée sur la fonction <code>rasterImage()</code>, qui permet d’importer dans un graphe n’importe quelle image au format <strong>PNG</strong>, <strong>JPEG</strong> ou <strong>TIFF</strong>. Cette fonction permet, soit d’ajouter l’image à un graphe existant, soit de créer un nouveau graphe avec cette image. De plus, elle permet de redimensionner l’image en conservant le rapport hauteur/largeur d’origine. Le tout s’adaptant aux dimensions du graphe. Enfin, cette fonction permet de positionner l’image soit en fournissant les coordonnées du centre, soit en utilisant des positions prédéfinies (e.g. “center”, “topleft”, etc.). Notons que tous les paramètres graphiques de la fonction <code>plot()</code> peuvent être modifiés (dans le cas où l’image est insérée dans une nouvelle fenêtre).</p>
<p>Commençons par définir cette fonction dans R.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1">plotimage &lt;-<span class="st"> </span><span class="cf">function</span>(file, <span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="ot">NULL</span>, <span class="dt">size =</span> <span class="dv">1</span>, <span class="dt">add =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb36-2" data-line-number="2"><span class="dt">angle =</span> <span class="dv">0</span>, <span class="dt">pos =</span> <span class="dv">0</span>, <span class="dt">bg =</span> <span class="st">&quot;lightgray&quot;</span>, ...){</a>
<a class="sourceLine" id="cb36-3" data-line-number="3"><span class="cf">if</span> (<span class="kw">length</span>(<span class="kw">grep</span>(<span class="st">&quot;.png&quot;</span>, file)) <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>){</a>
<a class="sourceLine" id="cb36-4" data-line-number="4"><span class="kw">require</span>(<span class="st">&quot;png&quot;</span>)</a>
<a class="sourceLine" id="cb36-5" data-line-number="5">img &lt;-<span class="st"> </span><span class="kw">readPNG</span>(file, <span class="dt">native =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb36-6" data-line-number="6">}</a>
<a class="sourceLine" id="cb36-7" data-line-number="7"><span class="cf">if</span> (<span class="kw">length</span>(<span class="kw">grep</span>(<span class="st">&quot;.tif&quot;</span>, file)) <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>){</a>
<a class="sourceLine" id="cb36-8" data-line-number="8"><span class="kw">require</span>(<span class="st">&quot;tiff&quot;</span>)</a>
<a class="sourceLine" id="cb36-9" data-line-number="9">img &lt;-<span class="st"> </span><span class="kw">readTIFF</span>(file, <span class="dt">native =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb36-10" data-line-number="10">}</a>
<a class="sourceLine" id="cb36-11" data-line-number="11"><span class="cf">if</span> (<span class="kw">length</span>(<span class="kw">grep</span>(<span class="st">&quot;.jp&quot;</span>, file)) <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>){</a>
<a class="sourceLine" id="cb36-12" data-line-number="12"><span class="kw">require</span>(<span class="st">&quot;jpeg&quot;</span>)</a>
<a class="sourceLine" id="cb36-13" data-line-number="13">img &lt;-<span class="st"> </span><span class="kw">readJPEG</span>(file, <span class="dt">native =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb36-14" data-line-number="14">}</a>
<a class="sourceLine" id="cb36-15" data-line-number="15">res &lt;-<span class="st"> </span><span class="kw">dim</span>(img)[<span class="dv">2</span><span class="op">:</span><span class="dv">1</span>]</a>
<a class="sourceLine" id="cb36-16" data-line-number="16"><span class="cf">if</span> (add){</a>
<a class="sourceLine" id="cb36-17" data-line-number="17">xres &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">2</span>] <span class="op">-</span><span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb36-18" data-line-number="18">yres &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">4</span>] <span class="op">-</span><span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">3</span>]</a>
<a class="sourceLine" id="cb36-19" data-line-number="19">res &lt;-<span class="st"> </span><span class="kw">c</span>(xres, yres)</a>
<a class="sourceLine" id="cb36-20" data-line-number="20">}<span class="cf">else</span>{</a>
<a class="sourceLine" id="cb36-21" data-line-number="21"><span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>), <span class="dt">bg =</span> bg, <span class="dt">xaxs =</span> <span class="st">&quot;i&quot;</span>, <span class="dt">yaxs =</span> <span class="st">&quot;i&quot;</span>)</a>
<a class="sourceLine" id="cb36-22" data-line-number="22">dims &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">max</span>(res))</a>
<a class="sourceLine" id="cb36-23" data-line-number="23"><span class="kw">plot</span>(<span class="dv">0</span>, <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">axes =</span> <span class="ot">FALSE</span>, <span class="dt">xlim =</span> dims, <span class="dt">ann =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb36-24" data-line-number="24"><span class="dt">ylim =</span> dims, ...)</a>
<a class="sourceLine" id="cb36-25" data-line-number="25">}</a>
<a class="sourceLine" id="cb36-26" data-line-number="26"><span class="cf">if</span> (<span class="kw">is.null</span>(x) <span class="op">&amp;&amp;</span><span class="st"> </span><span class="kw">is.null</span>(y)){</a>
<a class="sourceLine" id="cb36-27" data-line-number="27"><span class="cf">if</span> (pos <span class="op">==</span><span class="st"> &quot;center&quot;</span> <span class="op">||</span><span class="st"> </span>pos <span class="op">==</span><span class="st"> </span><span class="dv">0</span>){</a>
<a class="sourceLine" id="cb36-28" data-line-number="28">x &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">1</span>]<span class="op">+</span>(<span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">2</span>]<span class="op">-</span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">1</span>])<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-29" data-line-number="29">y &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">3</span>]<span class="op">+</span>(<span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">4</span>]<span class="op">-</span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">3</span>])<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-30" data-line-number="30">}</a>
<a class="sourceLine" id="cb36-31" data-line-number="31"><span class="cf">if</span> (pos <span class="op">==</span><span class="st"> &quot;bottom&quot;</span> <span class="op">||</span><span class="st"> </span>pos <span class="op">==</span><span class="st"> </span><span class="dv">1</span>){</a>
<a class="sourceLine" id="cb36-32" data-line-number="32">x &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">1</span>]<span class="op">+</span>(<span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">2</span>]<span class="op">-</span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">1</span>])<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-33" data-line-number="33">y &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">3</span>]<span class="op">+</span>res[<span class="dv">2</span>]<span class="op">*</span>size<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-34" data-line-number="34">}</a>
<a class="sourceLine" id="cb36-35" data-line-number="35"><span class="cf">if</span> (pos <span class="op">==</span><span class="st"> &quot;left&quot;</span> <span class="op">||</span><span class="st"> </span>pos <span class="op">==</span><span class="st"> </span><span class="dv">2</span>){</a>
<a class="sourceLine" id="cb36-36" data-line-number="36">x &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">1</span>]<span class="op">+</span>res[<span class="dv">1</span>]<span class="op">*</span>size<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-37" data-line-number="37">y &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">3</span>]<span class="op">+</span>(<span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">4</span>]<span class="op">-</span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">3</span>])<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-38" data-line-number="38">}</a>
<a class="sourceLine" id="cb36-39" data-line-number="39"><span class="cf">if</span> (pos <span class="op">==</span><span class="st"> &quot;top&quot;</span> <span class="op">||</span><span class="st"> </span>pos <span class="op">==</span><span class="st"> </span><span class="dv">3</span>){</a>
<a class="sourceLine" id="cb36-40" data-line-number="40">x &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">1</span>]<span class="op">+</span>(<span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">2</span>]<span class="op">-</span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">1</span>])<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-41" data-line-number="41">y &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">4</span>]<span class="op">-</span>res[<span class="dv">2</span>]<span class="op">*</span>size<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-42" data-line-number="42">}</a>
<a class="sourceLine" id="cb36-43" data-line-number="43"><span class="cf">if</span> (pos <span class="op">==</span><span class="st"> &quot;right&quot;</span> <span class="op">||</span><span class="st"> </span>pos <span class="op">==</span><span class="st"> </span><span class="dv">4</span>){</a>
<a class="sourceLine" id="cb36-44" data-line-number="44">x &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">2</span>]<span class="op">-</span>res[<span class="dv">1</span>]<span class="op">*</span>size<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-45" data-line-number="45">y &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">3</span>]<span class="op">+</span>(<span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">4</span>]<span class="op">-</span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">3</span>])<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-46" data-line-number="46">}</a>
<a class="sourceLine" id="cb36-47" data-line-number="47"><span class="cf">if</span> (pos <span class="op">==</span><span class="st"> &quot;bottomleft&quot;</span> <span class="op">||</span><span class="st"> </span>pos <span class="op">==</span><span class="st"> </span><span class="dv">5</span>){</a>
<a class="sourceLine" id="cb36-48" data-line-number="48">x &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">1</span>]<span class="op">+</span>res[<span class="dv">1</span>]<span class="op">*</span>size<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-49" data-line-number="49">y &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">3</span>]<span class="op">+</span>res[<span class="dv">2</span>]<span class="op">*</span>size<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-50" data-line-number="50">}</a>
<a class="sourceLine" id="cb36-51" data-line-number="51"><span class="cf">if</span> (pos <span class="op">==</span><span class="st"> &quot;topleft&quot;</span> <span class="op">||</span><span class="st"> </span>pos <span class="op">==</span><span class="st"> </span><span class="dv">6</span>){</a>
<a class="sourceLine" id="cb36-52" data-line-number="52">x &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">1</span>]<span class="op">+</span>res[<span class="dv">1</span>]<span class="op">*</span>size<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-53" data-line-number="53">y &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">4</span>]<span class="op">-</span>res[<span class="dv">2</span>]<span class="op">*</span>size<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-54" data-line-number="54">}</a>
<a class="sourceLine" id="cb36-55" data-line-number="55"><span class="cf">if</span> (pos <span class="op">==</span><span class="st"> &quot;topright&quot;</span> <span class="op">||</span><span class="st"> </span>pos <span class="op">==</span><span class="st"> </span><span class="dv">7</span>){</a>
<a class="sourceLine" id="cb36-56" data-line-number="56">x &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">2</span>]<span class="op">-</span>res[<span class="dv">1</span>]<span class="op">*</span>size<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-57" data-line-number="57">y &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">4</span>]<span class="op">-</span>res[<span class="dv">2</span>]<span class="op">*</span>size<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-58" data-line-number="58">}</a>
<a class="sourceLine" id="cb36-59" data-line-number="59"><span class="cf">if</span> (pos <span class="op">==</span><span class="st"> &quot;bottomright&quot;</span> <span class="op">||</span><span class="st"> </span>pos <span class="op">==</span><span class="st"> </span><span class="dv">8</span>){</a>
<a class="sourceLine" id="cb36-60" data-line-number="60">x &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">2</span>]<span class="op">-</span>res[<span class="dv">1</span>]<span class="op">*</span>size<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-61" data-line-number="61">y &lt;-<span class="st"> </span><span class="kw">par</span>()<span class="op">$</span>usr[<span class="dv">3</span>]<span class="op">+</span>res[<span class="dv">2</span>]<span class="op">*</span>size<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-62" data-line-number="62">}</a>
<a class="sourceLine" id="cb36-63" data-line-number="63">}</a>
<a class="sourceLine" id="cb36-64" data-line-number="64">xx &lt;-<span class="st"> </span>res[<span class="dv">1</span>]<span class="op">*</span>size<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-65" data-line-number="65">yy &lt;-<span class="st"> </span>res[<span class="dv">2</span>]<span class="op">*</span>size<span class="op">/</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb36-66" data-line-number="66"><span class="kw">rasterImage</span>(img, x<span class="op">-</span>xx, y<span class="op">-</span>yy, x<span class="op">+</span>xx, y<span class="op">+</span>yy, <span class="dt">angle =</span> angle)</a>
<a class="sourceLine" id="cb36-67" data-line-number="67">}</a></code></pre></div>
<p>Voici les différents arguments possibles pour cette fonction.</p>
<p><strong>Argument</strong> &amp; <strong>Signification</strong>\
- <code>file</code> &amp; Nom de l’image à ouvrir (avec extension png)
- <code>x</code> &amp; Coordonnée en x du centre de l’image
- <code>y</code> &amp; Coordonnée en y du centre de l’image
- <code>pos</code> &amp; Position prédéfinie. Alternative à x et y. (voir la fonction <code>legend()</code>)
- <code>size</code> &amp; Coefficient réducteur de l’image (entre 0 et 1)
- <code>angle</code> &amp; Degré de rotation de l’image (entre 0 et 360)
- <code>bg</code> &amp; Couleur du fond de la figure
- <code>add</code> &amp; <strong>TRUE</strong> ou <strong>FALSE</strong>
- <code>...</code> &amp; Autres paramètres graphiques de la fonction <code>plot()</code></p>
<p>Le site Web <a href="http://www.flaticon.com" class="uri">http://www.flaticon.com</a> permet de télécharger plus de 60 000 icônes gratuitement à différentes résolutions et sous différents formats. Les images suivantes sont issues de ce site. Merci aux auteurs !</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1"><span class="co"># plotimage(file = &quot;img/chap5/icon4.png&quot;, add = FALSE)</span></a></code></pre></div>
<p>Regardons les différents placements par défaut.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">3</span>))</a>
<a class="sourceLine" id="cb38-2" data-line-number="2"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">0</span> <span class="op">:</span><span class="st"> </span><span class="dv">8</span>){</a>
<a class="sourceLine" id="cb38-3" data-line-number="3"><span class="kw">plotimage</span>(<span class="st">&quot;./icon8.png&quot;</span>, <span class="dt">size =</span> <span class="fl">0.25</span>, <span class="dt">pos =</span> i)</a>
<a class="sourceLine" id="cb38-4" data-line-number="4"><span class="kw">box</span>(<span class="st">&quot;figure&quot;</span>)</a>
<a class="sourceLine" id="cb38-5" data-line-number="5">}</a></code></pre></div>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1"><span class="kw">plot</span>(<span class="dv">0</span>, <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">axes =</span> <span class="ot">FALSE</span>, <span class="dt">ann =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb39-2" data-line-number="2"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">0</span> <span class="op">:</span><span class="st"> </span><span class="dv">8</span>)</a>
<a class="sourceLine" id="cb39-3" data-line-number="3"><span class="kw">plotimage</span>(<span class="st">&quot;./icon6.png&quot;</span>, <span class="dt">size =</span> <span class="fl">0.25</span>, <span class="dt">pos =</span> i, <span class="dt">add =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb39-4" data-line-number="4"><span class="kw">box</span>(<span class="st">&quot;figure&quot;</span>)</a></code></pre></div>
<p>Pour terminer, regardons l’impact de l’angle en superposant la même image tous les 45 degrés. Les formes résultantes n’étaient pas du tout prévu par les auteurs. Et, le résultat est très surprenant et esthétique. De la pure sérendipité !!!</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="kw">plot0</span>(<span class="dt">xlim =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>), <span class="dt">xaxs =</span> <span class="st">&quot;i&quot;</span>, <span class="dt">yaxs =</span> <span class="st">&quot;i&quot;</span>)</a>
<a class="sourceLine" id="cb40-2" data-line-number="2"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">360</span>, <span class="dv">45</span>)){</a>
<a class="sourceLine" id="cb40-3" data-line-number="3"><span class="kw">plotimage</span>(<span class="st">&quot;./icon2.png&quot;</span>, <span class="dt">size =</span> <span class="fl">0.25</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>, <span class="dt">angle =</span> i, <span class="dt">x =</span> <span class="fl">.25</span>, <span class="dt">y =</span> <span class="fl">.25</span>)</a>
<a class="sourceLine" id="cb40-4" data-line-number="4">}</a>
<a class="sourceLine" id="cb40-5" data-line-number="5"><span class="kw">plotimage</span>(<span class="st">&quot;./icon2.png&quot;</span>, <span class="dt">size =</span> <span class="fl">0.2</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>, <span class="dt">pos =</span> <span class="dv">7</span>)</a>
<a class="sourceLine" id="cb40-6" data-line-number="6"><span class="kw">box</span>(<span class="st">&quot;figure&quot;</span>)</a></code></pre></div>
<p>Un petit dernier, parce qu’on aime ça.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="créer-et-éditer-des-graphiques-avec-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="graphiques-classiques.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/inSileco/VisualiseR/edit/devel/04-Editiongraph.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["visualiseR.pdf", "visualiseR.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
